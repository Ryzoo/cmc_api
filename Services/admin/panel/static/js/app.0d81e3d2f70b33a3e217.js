webpackJsonp([1],{"+oxg":function(t,e){},"3H1C":function(t,e){},"5IHX":function(t,e){},"6Y3N":function(t,e){},"7wPZ":function(t,e){},"84rP":function(t,e){},"A/C3":function(t,e){},EVqk:function(t,e){},HR7t:function(t,e){},N7x6:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("bGr6");var i=n("7+uW"),s=n("/ocq"),a={data:function(){return{loginForm:{email:null,password:null,place:"adminPanel"},isLoading:!1}},methods:{login:function(){var t=this;try{var e=new window.Validator({"adres email":this.loginForm.email,"hasło":this.loginForm.password});e.get("adres email").length(3,50),e.get("hasło").length(5,50)}catch(t){return}this.isLoading=!0,axios.post("/auth/login",this.loginForm).then(function(e){window.AuthMiddleware.login(e.data),t.$router.push(t.$route.query.redirect&&t.$route.query.redirect.length>0?t.$route.query.redirect:"/"),t.isLoading=!1}).catch(function(e){setTimeout(function(){t.isLoading=!1},1e3)})}},mounted:function(){}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("div",{staticClass:"panel wow fadeInUp"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isLoading?n("loader"):n("form",[n("h3",[t._v("Panel sterowania CMC")]),t._v(" "),n("label",{attrs:{for:"loginInput"}},[t._v("Adres email")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.email,expression:"loginForm.email"}],attrs:{id:"loginInput",type:"email",placeholder:"Adres e-mail"},domProps:{value:t.loginForm.email},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"email",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"passwordInput"}},[t._v("Hasło")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],attrs:{id:"passwordInput",type:"password",placeholder:"Hasło"},domProps:{value:t.loginForm.password},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"password",e.target.value)}}}),t._v(" "),n("button",{staticClass:"button-p button-md m-t-3",attrs:{size:"md",variant:"outline-light"},on:{click:function(e){e.preventDefault(),t.login(e)}}},[t._v("Zaloguj się")])])],1)],1)])},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("R8ca")},"data-v-31c3aa20",null).exports,l={data:function(){return{}},methods:{logout:function(){window.AuthMiddleware.logout(),this.$router.push("/login")}},mounted:function(){wow.init()},computed:{}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("pJBt")},null,null).exports,d={name:"LogsPanel",data:function(){return{logs:[],limit:10}},methods:{getLogs:function(){var t=this;axios.get("/logs?limit="+this.limit).then(function(e){t.logs=e.data,Sortable.init()})}},mounted:function(){this.getLogs()}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[t._m(0),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[t._m(1),t._v(" "),n("tbody",t._l(t.logs,function(e){return n("tr",[n("td",[t._v(t._s(e.date))]),t._v(" "),n("td",{class:{warning:"WARNING"===e.type,error:"ERROR"===e.type},staticStyle:{"font-weight":"bold"}},[t._v(t._s(e.type))]),t._v(" "),n("td",[t._v(t._s(e.content))])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-header"},[e("h3",[this._v("Logi systemowe")]),this._v(" "),e("button",{staticClass:"panelActionTop"},[this._v("Wyczyść logi")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Data")]),this._v(" "),e("th",[this._v("Typ")]),this._v(" "),e("th",[this._v("Treść")])])])}]};var v={name:"LastUserPanel",data:function(){return{users:[],limit:5}},methods:{getUsers:function(){var t=this;axios.get("/user?limit="+this.limit+"&sort=date_add|desc").then(function(e){t.users=e.data,Sortable.init()})}},mounted:function(){this.getUsers()}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header"},[n("h3",[t._v("Ostatnio dodani użytkownicy")]),t._v(" "),n("button",{staticClass:"panelActionTop",on:{click:function(e){t.$router.push("/user")}}},[t._v("Zarządzaj")])]),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[t._m(0),t._v(" "),n("tbody",t._l(t.users,function(e){return n("tr",[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[n("img",{staticClass:"profileImgMini",attrs:{src:e.profile_img,alt:e.firstname}})]),t._v(" "),n("td",[t._v(t._s(e.firstname)+" "+t._s(e.lastname))]),t._v(" "),n("td",[t._v(t._s(e.date_add))])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ID")]),this._v(" "),e("th",[this._v("IMG")]),this._v(" "),e("th",[this._v("Imię / Nazwisko")]),this._v(" "),e("th",[this._v("Data dołączenia")])])])}]};var m={name:"Users",components:{"logs-panel":n("VU/8")(d,h,!1,function(t){n("X5V+")},"data-v-440d0cea",null).exports,"last-user-panel":n("VU/8")(v,f,!1,function(t){n("6Y3N")},"data-v-ac935ff4",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("div",{staticClass:"row"},[e("last-user-panel",{staticClass:"col-2 wow fadeInUp"}),this._v(" "),e("div",{staticClass:"panel col wow fadeInUp"})],1),this._v(" "),e("div",{staticClass:"row"},[e("logs-panel",{staticClass:"col wow fadeInUp"})],1)])},staticRenderFns:[]};var _=n("VU/8")(m,p,!1,function(t){n("nlqR")},"data-v-11474920",null).exports,g={name:"Dashboard",data:function(){return{user:window.AuthMiddleware.user}},methods:{logout:function(){window.AuthMiddleware.logout(),this.$router.push("/login")},checkElOpacityToTop:function(){var t=$(".pageContent").offset().top;$(".pageContent").first().find(".col, .col-2").each(function(){var e=1.2*$(this).height()+$(this).offset().top-t,n=$(this).height(),i=0;e>0&&(i=e/n)>1&&(i=1),$(this).css("opacity",i)})},checkElOpacity:function(){this.checkElOpacityToTop()}},mounted:function(){var t=this;this.checkElOpacity(),$(".pageContent").first().scroll(function(){t.checkElOpacity()}),$(window).resize(function(){t.checkElOpacity()})},beforeDestroy:function(){$(window).off("resize"),$(".pageContent").first().off("scroll")}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"container"}},[n("div",{staticClass:"darkerTop"}),t._v(" "),n("div",{staticClass:"pageContainer"},[n("header",{staticClass:"wow fadeInDown"},[n("div",{staticClass:"userData"},[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:t.user.profile_img,alt:t.user.firstname}}),t._v(" "),n("h2",[t._v(t._s(t.user.firstname)+" "+t._s(t.user.lastname))])])],1),t._v(" "),n("nav",[n("router-link",{attrs:{to:"database"}},[t._v("Baza danych")]),t._v(" "),n("router-link",{attrs:{to:"permission"}},[t._v("Uprawnienia")]),t._v(" "),n("router-link",{attrs:{to:"cron"}},[t._v("Zadania CRON")]),t._v(" "),n("a",{attrs:{href:""},on:{click:function(e){e.preventDefault(),t.logout(e)}}},[t._v("Wyloguj")])],1)]),t._v(" "),n("div",{staticClass:"pageContent"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)])])},staticRenderFns:[]};var b=n("VU/8")(g,w,!1,function(t){n("QaZ0")},"data-v-62adfbe3",null).exports,y={name:"Users",data:function(){return{users:[]}},methods:{getUsers:function(){var t=this;axios.get("/user").then(function(e){t.users=e.data})},editUser:function(t){this.$router.push("/user/"+t)},deleteUser:function(t){var e=this;axios.delete("/user/"+t).then(function(t){e.getUsers()})}},mounted:function(){this.getUsers()}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("div",{staticClass:"row"},[n("div",{staticClass:"panel col wow fadeInUp"},[n("div",{staticClass:"panel-header"},[n("h3",[t._v("Lista użytkowników")]),t._v(" "),n("button",{staticClass:"panelActionTop",on:{click:function(e){t.$router.push("/user/add")}}},[t._v("Dodaj")])]),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[t._m(0),t._v(" "),n("tbody",t._l(t.users,function(e){return n("tr",[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.firstname)+" "+t._s(e.lastname))]),t._v(" "),n("td",{staticClass:"action"},[n("div",{on:{click:function(n){t.editUser(e.id)}}},[n("i",{staticClass:"btn-i fas fa-edit"})]),t._v(" "),n("div",{on:{click:function(n){t.deleteUser(e.id)}}},[n("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ID")]),this._v(" "),e("th",[this._v("Nazwa")]),this._v(" "),e("th",[this._v("Akcje")])])])}]};var C=n("VU/8")(y,k,!1,function(t){n("HR7t")},"data-v-cc45f1e6",null).exports,E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("div",{staticClass:"row"},[e("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[this._m(0),this._v(" "),e("form",[this.isEdit?e("button",{on:{click:this.saveUser}},[this._v("Zapisz")]):e("button",{on:{click:this.addUser}},[this._v("Dodaj")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-header"},[e("h3",[this._v("Dodawanie nowego użytkownika")])])}]};var x=n("VU/8")({name:"UserAdd",props:["id"],data:function(){return{isEdit:"add"!==this.id}},methods:{addUser:function(){},saveUser:function(){}},mounted:function(){}},E,!1,function(t){n("hv3d")},"data-v-4c514d55",null).exports,N={name:"TableStatPanel",props:["tables"],methods:{deleteTableRow:function(t){var e=this;axios.delete("/database/row/"+t).then(function(t){e.$emit("refresh")})}},watch:{tables:function(){Sortable.init()}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header"},[n("h3",[t._v("Statystyki dotyczące tabel")]),t._v(" "),n("button",{staticClass:"panelActionTop",on:{click:function(e){t.$emit("refresh")}}},[t._v("Odśwież status")])]),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[t._m(0),t._v(" "),n("tbody",t._l(t.tables,function(e){return n("tr",[n("td",[t._v(t._s(e.TABLE_NAME))]),t._v(" "),n("td",[t._v(t._s(e.TABLE_ROWS))]),t._v(" "),n("td",[t._v(t._s(e.DATA_LENGTH)+" mb")]),t._v(" "),n("td",[n("div",{on:{click:function(n){t.deleteTableRow(e.TABLE_NAME)}}},[n("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Nazwa")]),this._v(" "),e("th",{attrs:{"data-sortable-type":"numeric"}},[this._v("Ilość rekordów")]),this._v(" "),e("th",{attrs:{"data-sortable-type":"numeric"}},[this._v("Rozmiar")]),this._v(" "),e("th",{attrs:{"data-sortable":"false"}},[this._v("Czyszczenie")])])])}]};var S={name:"TableActionPanel",props:["stats"],methods:{deleteRows:function(){var t=this;axios.delete("/database/row").then(function(e){t.$emit("refresh")})},deleteTables:function(){var t=this;axios.delete("/database/table").then(function(e){t.$emit("refresh")})},runDatabaseMigrations:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=e?"?onlyNonExist=true":"",axios.post("/database/migration"+e).then(function(e){t.$emit("refresh")})},runDatabaseCopy:function(){var t=this;axios.get("/database/copy",{responseType:"blob"}).then(function(e){t.$emit("refresh")})}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header"},[n("div",[n("small",[t._v("Aktualny rozmiar: "+t._s(t.stats.size)+" mb")]),t._v(" "),n("h3",[t._v("Akcje na bazie danych "+t._s(t.stats.name)+" ")])])]),t._v(" "),n("div",{staticClass:"db-action-container"},[n("button",{on:{click:t.runDatabaseCopy}},[t._v("Zrzut bazy")]),t._v(" "),n("button",{on:{click:t.deleteRows}},[t._v("Usuń rekordy")]),t._v(" "),n("button",{on:{click:t.deleteTables}},[t._v("Usuń tabele")]),t._v(" "),n("button",{on:{click:t.runDatabaseMigrations}},[t._v("Migracja tabel")]),t._v(" "),n("button",{on:{click:function(e){t.runDatabaseMigrations(!0)}}},[t._v("Domigruj tabele")])])])},staticRenderFns:[]};var U={name:"Database",components:{"table-stat-panel":n("VU/8")(N,A,!1,function(t){n("ZQX4")},"data-v-25eb4c6f",null).exports,"table-action-panel":n("VU/8")(S,P,!1,function(t){n("N7x6")},"data-v-dfc0dd4a",null).exports},data:function(){return{stats:{tables:[],size:0,name:"default"}}},methods:{getStats:function(){var t=this;axios.get("/stats/database").then(function(e){t.stats=e.data})}},mounted:function(){this.getStats()}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("div",{staticClass:"row"},[e("table-action-panel",{staticClass:"panel col wow fadeInUp",attrs:{stats:this.stats},on:{refresh:this.getStats}})],1),this._v(" "),e("div",{staticClass:"row"},[e("table-stat-panel",{staticClass:"col wow fadeInUp",attrs:{tables:this.stats.tables},on:{refresh:this.getStats}})],1)])},staticRenderFns:[]};var z=n("VU/8")(U,R,!1,function(t){n("ew5W")},"data-v-b8bfb808",null).exports,T={name:"RolePanel",data:function(){return{roles:[]}},methods:{getRoles:function(){var t=this;axios.get("/role").then(function(e){t.roles=e.data})},editRole:function(t){this.$router.push("/role/"+t)},deleteRole:function(t){var e=this;axios.delete("/role/"+t).then(function(t){e.$emit("refresh"),e.getRoles()})}},mounted:function(){this.getRoles()}},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header"},[n("h3",[t._v("Role na stronie")]),t._v(" "),n("button",{staticClass:"panelActionTop",on:{click:function(e){t.$router.push("/role/add")}}},[t._v("Dodaj")])]),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[t._m(0),t._v(" "),n("tbody",t._l(t.roles,function(e){return n("tr",[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"action"},[n("div",{on:{click:function(n){t.editRole(e.id)}}},[n("i",{staticClass:"btn-i fas fa-edit"})]),t._v(" "),n("div",{on:{click:function(n){t.deleteRole(e.id)}}},[n("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ID")]),this._v(" "),e("th",[this._v("Nazwa")]),this._v(" "),e("th",[this._v("Akcje")])])])}]};var D={name:"PermissionPanel",data:function(){return{permission:[]}},methods:{getPermission:function(){var t=this;axios.get("/permission").then(function(e){t.permission=e.data})},editPermission:function(t){this.$router.push("/permission/"+t)},deletePermission:function(t){var e=this;axios.delete("/permission/"+t).then(function(t){e.getPermission()})}},mounted:function(){this.getPermission()}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header"},[n("h3",[t._v("Dostępne uprawnienia")]),t._v(" "),n("button",{staticClass:"panelActionTop",on:{click:function(e){t.$router.push("/permission/add")}}},[t._v("Dodaj")])]),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[t._m(0),t._v(" "),n("tbody",t._l(t.permission,function(e){return n("tr",[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",{staticClass:"action"},[n("div",{on:{click:function(n){t.editPermission(e.id)}}},[n("i",{staticClass:"btn-i fas fa-edit"})]),t._v(" "),n("div",{on:{click:function(n){t.deletePermission(e.id)}}},[n("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ID")]),this._v(" "),e("th",[this._v("Nazwa")]),this._v(" "),e("th",[this._v("Akcje")])])])}]};var O={name:"Permission",components:{"role-panel":n("VU/8")(T,F,!1,function(t){n("3H1C")},"data-v-7efb4e7a",null).exports,"permission-panel":n("VU/8")(D,M,!1,function(t){n("gX91")},"data-v-06aad039",null).exports}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("div",{staticClass:"row"},[e("role-panel",{staticClass:"panel col wow fadeInUp"}),this._v(" "),e("permission-panel",{staticClass:"panel col-2 wow fadeInUp"})],1)])},staticRenderFns:[]};var V=n("VU/8")(O,I,!1,function(t){n("WpfO")},"data-v-12945798",null).exports,j={name:"PermissionAdd",props:["id"],data:function(){return{permissionName:"",isEdit:"add"!==this.id,rolePermission:[]}},methods:{validForm:function(){try{new window.Validator({"nazwa uprawnienia":this.permissionName}).get("nazwa uprawnienia").length(3,50)}catch(t){return!1}return!0},addPermission:function(){var t=this;this.validForm()&&axios.post("/permission",{name:this.permissionName,permission:this.rolePermission}).then(function(e){t.$router.push("/permission")})},savePermission:function(){var t=this;this.validForm()&&axios.put("/permission/"+this.id,{name:this.permissionName,permission:this.rolePermission}).then(function(e){t.$router.push("/permission")})},isRolePerm:function(t,e){for(var n=0;n<e.length;n++)if(e[n].role_id===t)return!0;return!1}},mounted:function(){var t=this;axios.get("/role").then(function(e){var n=e.data;if(t.rolePermission=[],!t.isEdit)for(var i=0;i<e.data.length;i++)t.rolePermission.push({id:e.data[i].id,name:e.data[i].name,permission:!1});t.isEdit&&axios.get("/permission/"+t.id).then(function(e){t.permissionName=e.data.permission.name;for(var i=0;i<n.length;i++)t.rolePermission.push({id:n[i].id,name:n[i].name,permission:t.isRolePerm(n[i].id,e.data.rolePermission)})})})}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("div",{staticClass:"row"},[n("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[t._m(0),t._v(" "),n("form",[n("label",{attrs:{for:"permissionName"}},[t._v("Nazwa uprawnienia")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.permissionName,expression:"permissionName"}],attrs:{type:"text",id:"permissionName",autofocus:""},domProps:{value:t.permissionName},on:{input:function(e){e.target.composing||(t.permissionName=e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"rolePermission"}},[t._v("Kto ma posiadać to uprawnienie?")]),t._v(" "),n("table",{staticClass:"sortable-theme-light",attrs:{id:"rolePermission","data-sortable":""}},[t._m(1),t._v(" "),n("tbody",t._l(t.rolePermission,function(e){return n("tr",[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.permission,expression:"role.permission"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.permission)?t._i(e.permission,null)>-1:e.permission},on:{change:function(n){var i=e.permission,s=n.target,a=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);s.checked?o<0&&(e.permission=i.concat([null])):o>-1&&(e.permission=i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"permission",a)}}})])])}))]),t._v(" "),t.isEdit?n("button",{attrs:{disabled:t.permissionName.length<3},on:{click:t.savePermission}},[t._v("Zapisz")]):n("button",{attrs:{disabled:t.permissionName.length<3},on:{click:t.addPermission}},[t._v("Dodaj")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-header"},[e("h3",[this._v("Dodawanie nowego uprawnienia")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Nazwa")]),this._v(" "),e("th",[this._v("Zezwolić?")])])])}]};var H=n("VU/8")(j,L,!1,function(t){n("7wPZ")},"data-v-49255053",null).exports,q={name:"RoleAdd",props:["id"],data:function(){return{roleName:"",isEdit:"add"!==this.id}},methods:{validForm:function(){try{new window.Validator({"nazwa roli":this.roleName}).get("nazwa roli").length(3,50)}catch(t){return!1}return!0},addRole:function(){var t=this;this.validForm()&&axios.post("/role",{name:this.roleName}).then(function(e){t.$router.push("/permission")})},saveRole:function(){var t=this;this.validForm()&&axios.put("/role/"+this.id,{name:this.roleName}).then(function(e){t.$router.push("/permission")})}},mounted:function(){var t=this;this.isEdit&&axios.get("/role/"+this.id).then(function(e){t.roleName=e.data.name})}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("div",{staticClass:"row"},[n("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[t._m(0),t._v(" "),n("form",[n("label",{attrs:{for:"roleName"}},[t._v("Nazwa roli")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.roleName,expression:"roleName"}],attrs:{type:"text",id:"roleName",autofocus:""},domProps:{value:t.roleName},on:{input:function(e){e.target.composing||(t.roleName=e.target.value)}}}),t._v(" "),t.isEdit?n("button",{attrs:{disabled:t.roleName.length<3},on:{click:t.saveRole}},[t._v("Zapisz")]):n("button",{attrs:{disabled:t.roleName.length<3},on:{click:t.addRole}},[t._v("Dodaj")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-header"},[e("h3",[this._v("Dodawanie nowej roli")])])}]};var Z=n("VU/8")(q,W,!1,function(t){n("EVqk")},"data-v-d992666e",null).exports;i.a.use(s.a);var B=new s.a({routes:[{path:"/",component:u,children:[{path:"",component:b,children:[{path:"",component:_},{path:"database",component:z},{path:"permission",component:V},{path:"permission/:id",component:H,props:!0},{path:"role/:id",component:Z,props:!0},{path:"user",component:C},{path:"user/:id",component:x,props:!0}]},{path:"/login",component:r,meta:{noRequireAuthorization:!0}}]}]});B.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.noRequireAuthorization})?n():"/login"!==t.path?AuthMiddleware.checkIsUserLogged().then(function(e){e?(n(),setTimeout(function(){window.jsFrameworkAfterChangeRoute&&window.jsFrameworkAfterChangeRoute()},300)):n({path:"/login",query:{redirect:t.fullPath?t.fullPath:null}})}).catch(function(e){n({path:"/login",query:{redirect:t.fullPath?t.fullPath:null}})}):n()});var X=B,G=n("Zrlr"),Q=n.n(G),J=n("wxAW"),Y=n.n(J),K=(n("84rP"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Przykładowy opis, który możesz zmienić, wpisując własny tekst jako pierwszy argument.",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;Q()(this,t),this.desc=e,this.type=n,this.duration=i}return Y()(t,[{key:"createContainer",value:function(){var t=$("#app");t.children().last().hasClass("notify-container")||t.append('<div class="notify-container"></div>')}},{key:"hide",value:function(t){t.addClass("notify-hide"),setTimeout(function(){t.remove(),t=null},300)}},{key:"createNotifier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.desc,e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.type,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.duration;this.createContainer(),$(".notify-container").append('<small class="notify-element '+n+'-notify">'+t+"</small>");var s=$(".notify-container").children().last();s.show("slide",{direction:"right",easing:"linear"},300),s.on("click",function(){e.hide(s)}),setTimeout(function(){e.hide(s)},i)}}]),t}()),tt=n("//Fk"),et=n.n(tt),nt=n("woOf"),it=n.n(nt),st=function(){function t(){Q()(this,t)}return Y()(t,[{key:"set",value:function(t){it()(this,t)}}]),t}(),at=function(){function t(){Q()(this,t)}return Y()(t,[{key:"login",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.user&&(delete this.user,this.user=null),this.user=new st,this.user.set(t),this.actualStorage=e?localStorage:sessionStorage,this.setCache()}},{key:"logout",value:function(){this.user&&(delete this.user,this.user=null),this.user=new st,window.axios.defaults.headers.common.Authorization=null,localStorage.clear(),sessionStorage.clear()}},{key:"setCache",value:function(){window.axios.defaults.headers.common.Authorization="Bearer "+this.user.login_token,this.actualStorage.login_token=this.user.login_token}},{key:"checkIsUserLogged",value:function(){var t=this;return new et.a(function(e,n){t.actualStorage=sessionStorage.login_token?sessionStorage:localStorage,t.actualStorage.login_token?axios.post("/auth/checkAuth",{loginToken:t.actualStorage.login_token?t.actualStorage.login_token:""}).then(function(n){n.data?(t.login(n.data),e(n.data)):(t.logout(),e(null))}).catch(function(t){n(t)}):e(null)})}}]),t}(),ot=function(){function t(e){Q()(this,t),this.elements=e,this.currentName=null,this.current=null}return Y()(t,[{key:"get",value:function(t){return this.currentName=t,this.current=this.elements[t],this}},{key:"returnError",value:function(t){throw notify.createNotifier(t,"danger",4e3),"validate failed"}},{key:"isNotNull",value:function(){var t=!!this.current;return t&&0!==t||this.returnError("Element "+this.currentName+" nie może być pusty"),this}},{key:"isString",value:function(){return this.isNotNull(),"string"==typeof this.current||this.returnError("Element "+this.currentName+" musi być stringiem"),this}},{key:"length",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.isString();var n=this.current.length>=t;return e&&n&&(n=this.current.length<=e),n||this.returnError("Element "+this.currentName+" musi mieć długość w przedziale ("+t+"-"+(e||"nieskonczoność")+")"),this}}]),t}(),rt=n("Ufq/"),lt=n.n(rt),ct=n("PCC1"),ut=n.n(ct);window.devMode=!1,n("A/C3"),window.wow=new ut.a,window.Sortable=lt.a,window.axios=n("mtWM"),window.bowser=n("O/+C"),window.AuthMiddleware=new at,window.Validator=ot,n("+oxg"),n("5IHX"),window.axios.defaults.baseURL=window.devMode?"http://cmcapi.pl":"https://api.centrumklubu.pl",window.axios.defaults.headers.post["Content-Type"]="application/json",window.axios.interceptors.response.use(void 0,function(t){t.response.data&&t.response.data.error&&notify.createNotifier(t.response.data.error,"danger",5e3)}),i.a.mixin({methods:{go:function(t){this.$router.push(t)},showModal:function(t){$(t).showModal()},hideModal:function(t){$(t).hideModal()}}}),window.notify=new K,i.a.config.productionTip=!0,i.a.component("loader",n("wd27").default),new i.a({el:"#app",router:X})},PCC1:function(t,e,n){var i,s,a,o;o=function(t,e){"use strict";var n,i;function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){return e.indexOf(t)>=0}function r(t,e,n){null!=t.addEventListener?t.addEventListener(e,n,!1):null!=t.attachEvent?t.attachEvent("on"+e,n):t[e]=n}function l(t,e,n){null!=t.removeEventListener?t.removeEventListener(e,n,!1):null!=t.detachEvent?t.detachEvent("on"+e,n):delete t[e]}var c=window.WeakMap||window.MozWeakMap||function(){function t(){s(this,t),this.keys=[],this.values=[]}return a(t,[{key:"get",value:function(t){for(var e=0;e<this.keys.length;e++){if(this.keys[e]===t)return this.values[e]}}},{key:"set",value:function(t,e){for(var n=0;n<this.keys.length;n++){if(this.keys[n]===t)return this.values[n]=e,this}return this.keys.push(t),this.values.push(e),this}}]),t}(),u=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(i=n=function(){function t(){s(this,t),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}return a(t,[{key:"observe",value:function(){}}]),t}(),n.notSupported=!0,i),d=window.getComputedStyle||function(t){var e=/(\-([a-z]){1})/g;return{getPropertyValue:function(n){"float"===n&&(n="styleFloat"),e.test(n)&&n.replace(e,function(t,e){return e.toUpperCase()});var i=t.currentStyle;return(null!=i?i[n]:void 0)||null}}},h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,t),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=function(t,e){for(var n in e)if(null==t[n]){var i=e[n];t[n]=i}return t}(e,this.defaults),null!=e.scrollContainer&&(this.config.scrollContainer=document.querySelector(e.scrollContainer)),this.animationNameCache=new c,this.wowEvent=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=void 0;return null!=document.createEvent?(s=document.createEvent("CustomEvent")).initCustomEvent(t,e,n,i):null!=document.createEventObject?(s=document.createEventObject()).eventType=t:s.eventName=t,s}(this.config.boxClass)}return a(t,[{key:"init",value:function(){this.element=window.document.documentElement,o(document.readyState,["interactive","complete"])?this.start():r(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var t=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var e=0;e<this.boxes.length;e++){var n=this.boxes[e];this.applyStyle(n,!0)}(this.disabled()||(r(this.config.scrollContainer||window,"scroll",this.scrollHandler),r(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)&&new u(function(e){for(var n=0;n<e.length;n++)for(var i=e[n],s=0;s<i.addedNodes.length;s++){var a=i.addedNodes[s];t.doSync(a)}}).observe(document.body,{childList:!0,subtree:!0})}},{key:"stop",value:function(){this.stopped=!0,l(this.config.scrollContainer||window,"scroll",this.scrollHandler),l(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){u.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(t){if(void 0!==t&&null!==t||(t=this.element),1===t.nodeType)for(var e=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass),n=0;n<e.length;n++){var i=e[n];o(i,this.all)||(this.boxes.push(i),this.all.push(i),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(i,!0),this.scrolled=!0)}}},{key:"show",value:function(t){var e,n;return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(t),e=t,n=this.wowEvent,null!=e.dispatchEvent?e.dispatchEvent(n):n in(null!=e)?e[n]():"on"+n in(null!=e)&&e["on"+n](),this.config.resetAnimation&&(r(t,"animationend",this.resetAnimation),r(t,"oanimationend",this.resetAnimation),r(t,"webkitAnimationEnd",this.resetAnimation),r(t,"MSAnimationEnd",this.resetAnimation)),t}},{key:"applyStyle",value:function(t,e){var n=this,i=t.getAttribute("data-wow-duration"),s=t.getAttribute("data-wow-delay"),a=t.getAttribute("data-wow-iteration");return this.animate(function(){return n.customStyle(t,e,i,s,a)})}},{key:"resetStyle",value:function(){for(var t=0;t<this.boxes.length;t++){this.boxes[t].style.visibility="visible"}}},{key:"resetAnimation",value:function(t){if(t.type.toLowerCase().indexOf("animationend")>=0){var e=t.target||t.srcElement;e.className=e.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function(t,e,n,i,s){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",n&&this.vendorSet(t.style,{animationDuration:n}),i&&this.vendorSet(t.style,{animationDelay:i}),s&&this.vendorSet(t.style,{animationIterationCount:s}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t}},{key:"vendorSet",value:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t[""+n]=i;for(var s=0;s<this.vendors.length;s++){t[""+this.vendors[s]+n.charAt(0).toUpperCase()+n.substr(1)]=i}}}},{key:"vendorCSS",value:function(t,e){for(var n=d(t),i=n.getPropertyCSSValue(e),s=0;s<this.vendors.length;s++){var a=this.vendors[s];i=i||n.getPropertyCSSValue("-"+a+"-"+e)}return i}},{key:"animationName",value:function(t){var e=void 0;try{e=this.vendorCSS(t,"animation-name").cssText}catch(n){e=d(t).getPropertyValue("animation-name")}return"none"===e?"":e}},{key:"cacheAnimationName",value:function(t){return this.animationNameCache.set(t,this.animationName(t))}},{key:"cachedAnimationName",value:function(t){return this.animationNameCache.get(t)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var t=[],e=0;e<this.boxes.length;e++){var n=this.boxes[e];if(n){if(this.isVisible(n)){this.show(n);continue}t.push(n)}}this.boxes=t,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(t){for(;void 0===t.offsetTop;)t=t.parentNode;for(var e=t.offsetTop;t.offsetParent;)e+=(t=t.offsetParent).offsetTop;return e}},{key:"isVisible",value:function(t){var e=t.getAttribute("data-wow-offset")||this.config.offset,n=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,i=n+Math.min(this.element.clientHeight,"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight)-e,s=this.offsetTop(t),a=s+t.clientHeight;return s<=i&&a>=n}},{key:"disabled",value:function(){return!this.config.mobile&&(t=navigator.userAgent,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t));var t}}]),t}();e.default=h,t.exports=e.default},s=[t,e],void 0===(a="function"==typeof(i=o)?i.apply(e,s):i)||(t.exports=a)},QaZ0:function(t,e){},R8ca:function(t,e){},"Ufq/":function(t,e,n){var i;(function(){var s,a,o,r,l,c;s="table[data-sortable]",r=/^-?[£$¤]?[\d,.]+%?$/,c=/^\s+|\s+$/g,o=["click"],"ontouchstart"in document.documentElement&&o.push("touchstart"),a=function(t,e,n){return null!=t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},(l={init:function(t){var e,n,i,a,o;for(null==t&&(t={}),null==t.selector&&(t.selector=s),o=[],i=0,a=(n=document.querySelectorAll(t.selector)).length;a>i;i++)e=n[i],o.push(l.initTable(e));return o},initTable:function(t){var e,n,i,s,a,o;if(1===(null!=(o=t.tHead)?o.rows.length:void 0)&&"true"!==t.getAttribute("data-sortable-initialized")){for(t.setAttribute("data-sortable-initialized","true"),e=s=0,a=(i=t.querySelectorAll("th")).length;a>s;e=++s)"false"!==(n=i[e]).getAttribute("data-sortable")&&l.setupClickableTH(t,n,e);return t}},setupClickableTH:function(t,e,n){var i,s,r,c,u,d;for(r=l.getColumnType(t,n),s=function(i){var s,a,o,c,u,d,h,v,f,m,p,_,g,w,b,y,k,C,E,x,N,A,$,S;if(!0===i.handled)return!1;for(i.handled=!0,h="true"===this.getAttribute("data-sorted"),v=this.getAttribute("data-sorted-direction"),o=h?"ascending"===v?"descending":"ascending":r.defaultSortDirection,g=0,k=(m=this.parentNode.querySelectorAll("th")).length;k>g;g++)(e=m[g]).setAttribute("data-sorted","false"),e.removeAttribute("data-sorted-direction");if(this.setAttribute("data-sorted","true"),this.setAttribute("data-sorted-direction",o),f=t.tBodies[0],d=[],h){for(y=0,x=(S=f.rows).length;x>y;y++)a=S[y],d.push(a);for(d.reverse(),A=0,N=d.length;N>A;A++)u=d[A],f.appendChild(u)}else{for(_=null!=r.compare?r.compare:function(t,e){return e-t},s=function(t,e){return t[0]===e[0]?t[2]-e[2]:r.reverse?_(e[0],t[0]):_(t[0],e[0])},c=w=0,C=($=f.rows).length;C>w;c=++w)u=$[c],p=l.getNodeValue(u.cells[n]),null!=r.comparator&&(p=r.comparator(p)),d.push([p,u,c]);for(d.sort(s),b=0,E=d.length;E>b;b++)u=d[b],f.appendChild(u[1])}return"function"==typeof window.CustomEvent&&"function"==typeof t.dispatchEvent?t.dispatchEvent(new CustomEvent("Sortable.sorted",{bubbles:!0})):void 0},d=[],c=0,u=o.length;u>c;c++)i=o[c],d.push(a(e,i,s));return d},getColumnType:function(t,e){var n,i,s,a,o,r,c,u,d,h,v;if(null!=(i=null!=(d=t.querySelectorAll("th")[e])?d.getAttribute("data-sortable-type"):void 0))return l.typesObject[i];for(o=0,c=(h=t.tBodies[0].rows).length;c>o;o++)for(n=h[o],s=l.getNodeValue(n.cells[e]),r=0,u=(v=l.types).length;u>r;r++)if((a=v[r]).match(s))return a;return l.typesObject.alpha},getNodeValue:function(t){var e;return t?null!==(e=t.getAttribute("data-value"))?e:void 0!==t.innerText?t.innerText.replace(c,""):t.textContent.replace(c,""):""},setupTypes:function(t){var e,n,i,s;for(l.types=t,l.typesObject={},s=[],n=0,i=t.length;i>n;n++)e=t[n],s.push(l.typesObject[e.name]=e);return s}}).setupTypes([{name:"numeric",defaultSortDirection:"descending",match:function(t){return t.match(r)},comparator:function(t){return parseFloat(t.replace(/[^0-9.-]/g,""),10)||0}},{name:"date",defaultSortDirection:"ascending",reverse:!0,match:function(t){return!isNaN(Date.parse(t))},comparator:function(t){return Date.parse(t)||0}},{name:"alpha",defaultSortDirection:"ascending",match:function(){return!0},compare:function(t,e){return t.localeCompare(e)}}]),setTimeout(l.init,0),void 0===(i=function(){return l}.call(e,n,e,t))||(t.exports=i)}).call(this)},WpfO:function(t,e){},"X5V+":function(t,e){},ZQX4:function(t,e){},ew5W:function(t,e){},gX91:function(t,e){},hv3d:function(t,e){},nlqR:function(t,e){},pJBt:function(t,e){},wd27:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sk-circle"},[n("div",{staticClass:"sk-circle1 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle2 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle3 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle4 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle5 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle6 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle7 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle8 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle9 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle10 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle11 sk-child"}),t._v(" "),n("div",{staticClass:"sk-circle12 sk-child"})])}]};var s=n("VU/8")({name:"Loader"},i,!1,function(t){n("xNNU")},"data-v-669ece7a",null);e.default=s.exports},xNNU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0d81e3d2f70b33a3e217.js.map