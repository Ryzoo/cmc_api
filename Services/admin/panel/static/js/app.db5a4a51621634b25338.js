webpackJsonp([1],{"+oxg":function(e,t){},"3H1C":function(e,t){},"5IHX":function(e,t){},"6Y3N":function(e,t){},"84rP":function(e,t){},"A/C3":function(e,t){},ArnG:function(e,t){},FPUn:function(e,t){},HR7t:function(e,t){},"M+l8":function(e,t){},N7x6:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("bGr6");var n=i("7+uW"),s=i("/ocq"),a={data:function(){return{loginForm:{email:null,password:null,place:"adminPanel"},isLoading:!1}},methods:{login:function(){var e=this;try{var t=new window.Validator({"adres email":this.loginForm.email,"hasło":this.loginForm.password});t.get("adres email").length(3,50),t.get("hasło").length(5,50)}catch(e){return}this.isLoading=!0,axios.post("/auth/login",this.loginForm).then(function(t){window.AuthMiddleware.login(t.data),e.$router.push(e.$route.query.redirect&&e.$route.query.redirect.length>0?e.$route.query.redirect:"/"),e.isLoading=!1}).catch(function(t){setTimeout(function(){e.isLoading=!1},1e3)})}},mounted:function(){}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"container"}},[i("div",{staticClass:"panel wow fadeInUp"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLoading?i("loader"):i("form",[i("h3",[e._v("Panel sterowania CMC")]),e._v(" "),i("label",{attrs:{for:"loginInput"}},[e._v("Adres email")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.email,expression:"loginForm.email"}],attrs:{id:"loginInput",type:"email",placeholder:"Adres e-mail"},domProps:{value:e.loginForm.email},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"email",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"passwordInput"}},[e._v("Hasło")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],attrs:{id:"passwordInput",type:"password",placeholder:"Hasło"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}}),e._v(" "),i("button",{staticClass:"button-p button-md m-t-3",attrs:{size:"md",variant:"outline-light"},on:{click:function(t){t.preventDefault(),e.login(t)}}},[e._v("Zaloguj się")])])],1)],1)])},staticRenderFns:[]};var r=i("VU/8")(a,o,!1,function(e){i("R8ca")},"data-v-31c3aa20",null).exports,l={data:function(){return{}},methods:{logout:function(){window.AuthMiddleware.logout(),this.$router.push("/login")}},mounted:function(){wow.init()},computed:{}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)},staticRenderFns:[]};var d=i("VU/8")(l,c,!1,function(e){i("pJBt")},null,null).exports,u={name:"LogsPanel",data:function(){return{logs:[],limit:10}},methods:{getLogs:function(){var e=this;axios.get("/logs?limit="+this.limit).then(function(t){e.logs=t.data,Sortable.init()})},removeLogs:function(){var e=this;axios.delete("/logs").then(function(t){e.logs=[],Sortable.init()})}},mounted:function(){this.getLogs()}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Logi systemowe")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:e.removeLogs}},[e._v("Wyczyść logi")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.logs,function(t){return i("tr",[i("td",[e._v(e._s(t.date))]),e._v(" "),i("td",{class:{warning:"WARNING"===t.type,error:"ERROR"===t.type},staticStyle:{"font-weight":"bold"}},[e._v(e._s(t.type))]),e._v(" "),i("td",[e._v(e._s(t.content))])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Data")]),this._v(" "),t("th",[this._v("Typ")]),this._v(" "),t("th",[this._v("Treść")])])])}]};var v={name:"LastUserPanel",data:function(){return{users:[],limit:5}},methods:{getUsers:function(){var e=this;axios.get("/user?limit="+this.limit+"&sort=date_add|desc").then(function(t){e.users=t.data,Sortable.init()})}},mounted:function(){this.getUsers()}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Ostatnio dodani użytkownicy")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$router.push("/user")}}},[e._v("Zarządzaj")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.users,function(t){return i("tr",[i("td",[e._v(e._s(t.id))]),e._v(" "),i("td",[i("img",{staticClass:"profileImgMini",attrs:{src:t.profile_img,alt:t.firstname}})]),e._v(" "),i("td",[e._v(e._s(t.firstname)+" "+e._s(t.lastname))]),e._v(" "),i("td",[e._v(e._s(t.date_add))])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("ID")]),this._v(" "),t("th",[this._v("IMG")]),this._v(" "),t("th",[this._v("Imię / Nazwisko")]),this._v(" "),t("th",[this._v("Data dołączenia")])])])}]};var f={name:"Users",components:{"logs-panel":i("VU/8")(u,h,!1,function(e){i("cxtj")},"data-v-626d9387",null).exports,"last-user-panel":i("VU/8")(v,m,!1,function(e){i("6Y3N")},"data-v-ac935ff4",null).exports}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("div",{staticClass:"row"},[t("last-user-panel",{staticClass:"col-2 wow fadeInUp"}),this._v(" "),t("div",{staticClass:"panel col wow fadeInUp"})],1),this._v(" "),t("div",{staticClass:"row"},[t("logs-panel",{staticClass:"col wow fadeInUp"})],1)])},staticRenderFns:[]};var _=i("VU/8")(f,p,!1,function(e){i("nlqR")},"data-v-11474920",null).exports,g={name:"Dashboard",data:function(){return{user:window.AuthMiddleware.user}},methods:{logout:function(){window.AuthMiddleware.logout(),this.$router.push("/login")},checkElOpacityToTop:function(){var e=$(".pageContent").offset().top;$(".pageContent").first().find(".col, .col-2").each(function(){var t=1.2*$(this).height()+$(this).offset().top-e,i=$(this).height(),n=0;t>0&&(n=t/i)>1&&(n=1),$(this).css("opacity",n)})},checkElOpacity:function(){this.checkElOpacityToTop()}},mounted:function(){var e=this;this.checkElOpacity(),$(".pageContent").first().scroll(function(){e.checkElOpacity()}),$(window).resize(function(){e.checkElOpacity()})},beforeDestroy:function(){$(window).off("resize"),$(".pageContent").first().off("scroll")}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",{attrs:{id:"container"}},[i("div",{staticClass:"darkerTop"}),e._v(" "),i("div",{staticClass:"pageContainer"},[i("header",{staticClass:"wow fadeInDown"},[i("div",{staticClass:"userData"},[i("router-link",{attrs:{to:"/"}},[i("img",{attrs:{src:e.user.profile_img,alt:e.user.firstname}}),e._v(" "),i("h2",[e._v(e._s(e.user.firstname)+" "+e._s(e.user.lastname))])])],1),e._v(" "),i("nav",[i("router-link",{attrs:{to:"/database"}},[e._v("Baza danych")]),e._v(" "),i("router-link",{attrs:{to:"/user"}},[e._v("Użytkownicy")]),e._v(" "),i("router-link",{attrs:{to:"/permission"}},[e._v("Uprawnienia")]),e._v(" "),i("router-link",{attrs:{to:"/license"}},[e._v("Licencje")]),e._v(" "),i("router-link",{attrs:{to:"/cron"}},[e._v("Zadania CRON")]),e._v(" "),i("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.logout(t)}}},[e._v("Wyloguj")])],1)]),e._v(" "),i("div",{staticClass:"pageContent"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view")],1)],1)])])},staticRenderFns:[]};var b=i("VU/8")(g,w,!1,function(e){i("q5gN")},"data-v-558b9d67",null).exports,y={name:"Users",data:function(){return{users:[]}},methods:{getUsers:function(){var e=this;axios.get("/user").then(function(t){e.users=t.data})},editUser:function(e){this.$router.push("/user/"+e)},deleteUser:function(e){var t=this;axios.delete("/user/"+e).then(function(e){t.getUsers()})}},mounted:function(){this.getUsers()}},k={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",[i("div",{staticClass:"row"},[i("div",{staticClass:"panel col wow fadeInUp"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Lista użytkowników")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$router.push("/user/add")}}},[e._v("Dodaj")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.users,function(t){return i("tr",[i("td",[e._v(e._s(t.id))]),e._v(" "),i("td",[e._v(e._s(t.firstname)+" "+e._s(t.lastname))]),e._v(" "),i("td",{staticClass:"action"},[i("div",{on:{click:function(i){e.editUser(t.id)}}},[i("i",{staticClass:"btn-i fas fa-edit"})]),e._v(" "),i("div",{on:{click:function(i){e.deleteUser(t.id)}}},[i("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("ID")]),this._v(" "),t("th",[this._v("Nazwa")]),this._v(" "),t("th",[this._v("Akcje")])])])}]};var C=i("VU/8")(y,k,!1,function(e){i("HR7t")},"data-v-cc45f1e6",null).exports,x={name:"UserAdd",props:["id"],data:function(){return{role:null,roles:[],user:{firstname:"",lastname:"",email:"",password:"",passwordRep:"",role_id:""},isEdit:"add"!==this.id}},methods:{generateRoleFormValue:function(){var e=[];return $("#roleForm").find("input").each(function(){if($(this).val()){var t={field_id:$(this).data("id"),value:$(this).val()};"file"===$(this).attr("type")&&(t.value=$(this).data("value")),e.push(t)}}),e},validateForm:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=new window.Validator({"imię":this.user.firstname,nazwisko:this.user.lastname,email:this.user.email,"hasło":this.user.password,"nazwa roli":this.user.role_id},e);if(t.get("imię").length(3,50),t.get("nazwisko").length(3,50),t.get("email").length(3,50),t.get("hasło").length(5,20),t.get("nazwa roli").length(1,10),this.user.password!==this.user.passwordRep)throw notify.createNotifier("Hasła nie pasują do siebie","danger",4e3),"validate failed";var i=!0;if($("#roleForm").find("input").each(function(){$(this).prop("required")&&($(this).val()?$(this).removeClass("badReq"):($(this).addClass("badReq"),i=!1))}),!i)throw notify.createNotifier("Uzupełnij formularz roli","danger",4e3),"validate failed"}catch(e){return!1}return!0},getUser:function(){var e=this;axios.get("/user/"+this.id).then(function(t){e.user=t.data,axios.get("/role/"+e.user.role_id).then(function(t){e.role=t.data,e.buildRoleForm(e.user.formField)})})},addUser:function(){var e=this;this.validateForm()&&(this.user.roleForm=this.generateRoleFormValue(),axios.post("/user",this.user).then(function(t){e.$router.push("/user")}))},saveUser:function(){var e=this;this.validateForm()&&(this.user.roleForm=this.generateRoleFormValue(),axios.put("/user/"+this.id,this.user).then(function(t){e.$router.push("/user")}))},buildRoleForm:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i="",n=0;n<this.role.form_field.length;n++){var s=this.role.form_field[n],a=s.field_type,o=s.id,r=s.label,l=s.list_field,c="0"===s.is_required?"":"required";this.isEdit&&s.value&&s.value.length>=1&&(c="");var d="<label for='role_field_"+o+"'>"+r+"</label>",u="";switch(a){case"text":case"number":case"file":u="<input id='role_field_"+o+"' type='"+a+"' data-id='"+o+"' "+c+" />";break;case"list":var h="";l=l.split("|");for(var v=0;v<l.length;v++){var m=l[v].split("#")[0];h+='<option value="'+l[v].split("#")[1]+'" >'+m+"</option>"}u="<select id='role_field_"+o+"' data-id='"+o+"' "+c+">\n                                        "+h+"\n                                    </select>"}i+=d+" "+u}$("#roleForm").html(i),setTimeout(function(){t.map(function(e){var t=$('#roleForm > [data-id="'+e.field_id+'"]').first();t&&(t.prop("required",!1),"file"!==t.attr("type")&&t.val(e.value))}),e.validateForm(!1)},200)}},mounted:function(){var e=this,t=this;axios.get("/role").then(function(t){e.roles=t.data}),$(document).off("change",'#roleForm > input[type="file"]'),$(document).on("change",'#roleForm > input[type="file"]',function(){var e=new FileReader,t=$(this);e.readAsDataURL($(this)[0].files[0]),e.onload=function(){t.data("value",e.result)}}),$(document).off("change","#userRole"),$(document).on("change","#userRole",function(){axios.get("/role/"+$(this).val()).then(function(e){t.role=e.data,t.buildRoleForm()})}),this.isEdit&&this.getUser()}},F={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",[i("div",{staticClass:"row"},[i("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[e._m(0),e._v(" "),i("form",[i("label",{attrs:{for:"userFirstname"}},[e._v("Imię")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstname,expression:"user.firstname"}],attrs:{type:"text",id:"userFirstname",autofocus:""},domProps:{value:e.user.firstname},on:{input:function(t){t.target.composing||e.$set(e.user,"firstname",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"userLastname"}},[e._v("Nazwisko")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastname,expression:"user.lastname"}],attrs:{type:"text",id:"userLastname"},domProps:{value:e.user.lastname},on:{input:function(t){t.target.composing||e.$set(e.user,"lastname",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"userEmail"}},[e._v("Adres email")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",id:"userEmail"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"userPassword"}},[e._v("Hasło")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"userPassword"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"userPasswordRep"}},[e._v("Powtórz hasło")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passwordRep,expression:"user.passwordRep"}],attrs:{type:"password",id:"userPasswordRep"},domProps:{value:e.user.passwordRep},on:{input:function(t){t.target.composing||e.$set(e.user,"passwordRep",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"userRole"}},[e._v("Rola użytkownika")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.user.role_id,expression:"user.role_id"}],staticStyle:{"margin-bottom":"15px"},attrs:{id:"userRole"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.user,"role_id",t.target.multiple?i:i[0])}}},e._l(e.roles,function(t){return i("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})),e._v(" "),i("form",{directives:[{name:"show",rawName:"v-show",value:e.user.role_id&&e.user.role_id.length>0,expression:"user.role_id && user.role_id.length > 0"}],attrs:{id:"roleForm"}},[i("p",[e._v("Ładowanie...")])]),e._v(" "),e.isEdit?i("button",{on:{click:e.saveUser}},[e._v("Zapisz")]):i("button",{on:{click:e.addUser}},[e._v("Dodaj")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-header"},[t("h3",[this._v("Dodawanie nowego użytkownika")])])}]};var E=i("VU/8")(x,F,!1,function(e){i("VTh3")},null,null).exports,N={name:"TableStatPanel",props:["tables"],methods:{deleteTableRow:function(e){var t=this;axios.delete("/database/row/"+e).then(function(e){t.$emit("refresh")})}},watch:{tables:function(){Sortable.init()}}},A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Statystyki dotyczące tabel")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$emit("refresh")}}},[e._v("Odśwież status")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.tables,function(t){return i("tr",[i("td",[e._v(e._s(t.TABLE_NAME))]),e._v(" "),i("td",[e._v(e._s(t.TABLE_ROWS))]),e._v(" "),i("td",[e._v(e._s(t.DATA_LENGTH)+" mb")]),e._v(" "),i("td",[i("div",{on:{click:function(i){e.deleteTableRow(t.TABLE_NAME)}}},[i("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Nazwa")]),this._v(" "),t("th",{attrs:{"data-sortable-type":"numeric"}},[this._v("Ilość rekordów")]),this._v(" "),t("th",{attrs:{"data-sortable-type":"numeric"}},[this._v("Rozmiar")]),this._v(" "),t("th",{attrs:{"data-sortable":"false"}},[this._v("Czyszczenie")])])])}]};var R={name:"TableActionPanel",props:["stats"],methods:{deleteRows:function(){var e=this;axios.delete("/database/row").then(function(t){e.$emit("refresh")})},deleteTables:function(){var e=this;axios.delete("/database/table").then(function(t){e.$emit("refresh")})},runDatabaseMigrations:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t=t?"?onlyNonExist=true":"",axios.post("/database/migration"+t).then(function(t){e.$emit("refresh")})},runDatabaseCopy:function(){var e=this;axios.get("/database/copy",{responseType:"blob"}).then(function(t){e.$emit("refresh")})}}},P={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("div",[i("small",[e._v("Aktualny rozmiar: "+e._s(e.stats.size)+" mb")]),e._v(" "),i("h3",[e._v("Akcje na bazie danych "+e._s(e.stats.name)+" ")])])]),e._v(" "),i("div",{staticClass:"db-action-container"},[i("button",{on:{click:e.runDatabaseCopy}},[e._v("Zrzut bazy")]),e._v(" "),i("button",{on:{click:e.deleteRows}},[e._v("Usuń rekordy")]),e._v(" "),i("button",{on:{click:e.deleteTables}},[e._v("Usuń tabele")]),e._v(" "),i("button",{on:{click:e.runDatabaseMigrations}},[e._v("Migracja tabel")]),e._v(" "),i("button",{on:{click:function(t){e.runDatabaseMigrations(!0)}}},[e._v("Domigruj tabele")])])])},staticRenderFns:[]};var S={name:"Database",components:{"table-stat-panel":i("VU/8")(N,A,!1,function(e){i("ZQX4")},"data-v-25eb4c6f",null).exports,"table-action-panel":i("VU/8")(R,P,!1,function(e){i("N7x6")},"data-v-dfc0dd4a",null).exports},data:function(){return{stats:{tables:[],size:0,name:"default"}}},methods:{getStats:function(){var e=this;axios.get("/stats/database").then(function(t){e.stats=t.data})}},mounted:function(){this.getStats()}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("div",{staticClass:"row"},[t("table-action-panel",{staticClass:"panel col wow fadeInUp",attrs:{stats:this.stats},on:{refresh:this.getStats}})],1),this._v(" "),t("div",{staticClass:"row"},[t("table-stat-panel",{staticClass:"col wow fadeInUp",attrs:{tables:this.stats.tables},on:{refresh:this.getStats}})],1)])},staticRenderFns:[]};var z=i("VU/8")(S,U,!1,function(e){i("ew5W")},"data-v-b8bfb808",null).exports,j={name:"LicensePanel",data:function(){return{licenses:[]}},methods:{getLicense:function(){var e=this;axios.get("/license").then(function(t){e.licenses=t.data})},editLicense:function(e){this.$router.push("/license/"+e)},deleteLicense:function(e){var t=this;axios.delete("/license/"+e).then(function(e){t.getLicense()})}},mounted:function(){this.getLicense()}},L={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Dostępne licencje")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$router.push("/license/add")}}},[e._v("Dodaj")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.licenses,function(t){return i("tr",[i("td",[e._v(e._s(t.id))]),e._v(" "),i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",{staticClass:"action"},[i("div",{on:{click:function(i){e.editLicense(t.id)}}},[i("i",{staticClass:"btn-i fas fa-edit"})]),e._v(" "),i("div",{on:{click:function(i){e.deleteLicense(t.id)}}},[i("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("ID")]),this._v(" "),t("th",[this._v("Nazwa")]),this._v(" "),t("th",[this._v("Akcje")])])])}]};var D={name:"UserLicensePanel",data:function(){return{licenses:[]}},methods:{getLicense:function(){var e=this;axios.get("/userLicense").then(function(t){e.licenses=t.data})},editLicense:function(e){this.$router.push("/userLicense/"+e)},deleteLicense:function(e){var t=this;axios.delete("/userLicense/"+e).then(function(e){t.getLicense()})}},mounted:function(){this.getLicense()}},T={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Licencje powiązane")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$router.push("/userLicense/add")}}},[e._v("Dodaj")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.licenses,function(t){return i("tr",[i("td",[e._v(e._s(t.user.firstname)+" "+e._s(t.user.lastname))]),e._v(" "),i("td",[e._v(e._s(t.license.name))]),e._v(" "),i("td",[e._v(e._s(t.date_end))]),e._v(" "),i("td",{staticClass:"action"},[i("div",{on:{click:function(i){e.editLicense(t.id)}}},[i("i",{staticClass:"btn-i fas fa-edit"})]),e._v(" "),i("div",{on:{click:function(i){e.deleteLicense(t.id)}}},[i("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Użytkownik")]),this._v(" "),t("th",[this._v("Licencja")]),this._v(" "),t("th",[this._v("Data końca")]),this._v(" "),t("th",[this._v("Akcje")])])])}]};var V={name:"License",components:{"license-panel":i("VU/8")(j,L,!1,function(e){i("FPUn")},"data-v-b90511f2",null).exports,"user-license-panel":i("VU/8")(D,T,!1,function(e){i("u5c+")},"data-v-28122a2e",null).exports}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("div",{staticClass:"row"},[t("license-panel",{staticClass:"panel col wow fadeInUp"}),this._v(" "),t("user-license-panel",{staticClass:"panel col-2 wow fadeInUp"})],1)])},staticRenderFns:[]};var q=i("VU/8")(V,M,!1,function(e){i("ArnG")},"data-v-585cdd6e",null).exports,I={name:"LicenseAdd",props:["id"],data:function(){return{license:{name:"",description:"",possibleDomain:"",possibleRole:"",powers:"",price:null},isEdit:"add"!==this.id}},methods:{formValid:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=new window.Validator({"nazwa licencji":this.license.name,opis:this.license.description,"możliwe domeny":this.license.possibleDomain,"możliwe role":this.license.possibleRole,"możliwości licencji":this.license.powers,"cena licencji":this.license.price},e);t.get("nazwa licencji").length(3,255),t.get("opis").length(3,500),t.get("możliwe domeny").length(3,500),t.get("możliwe role").length(1,500),t.get("możliwości licencji").length(3,500),t.get("cena licencji").length(3,255)}catch(e){return!1}return!0},addRole:function(){var e=this;this.formValid()&&axios.post("/license",this.license).then(function(t){e.$router.push("/license")})},saveRole:function(){var e=this;this.formValid()&&axios.put("/license/"+this.id,this.license).then(function(t){e.$router.push("/license")})}},computed:{isValidForm:function(){return this.formValid(!1)}},mounted:function(){var e=this;this.isEdit&&axios.get("/license/"+this.id).then(function(t){e.license=t.data})}},O={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",[i("div",{staticClass:"row"},[i("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[e._m(0),e._v(" "),i("form",[i("label",{attrs:{for:"licName"}},[e._v("Nazwa licencji")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.license.name,expression:"license.name"}],attrs:{type:"text",id:"licName",autofocus:""},domProps:{value:e.license.name},on:{input:function(t){t.target.composing||e.$set(e.license,"name",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"licDescription"}},[e._v("Opis")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.license.description,expression:"license.description"}],attrs:{id:"licDescription",placeholder:"Opis licencji"},domProps:{value:e.license.description},on:{input:function(t){t.target.composing||e.$set(e.license,"description",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"licPrice"}},[e._v("Ceny licencji")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.license.price,expression:"license.price"}],attrs:{type:"text",id:"licPrice",placeholder:"l.miesiecy#cena|l.miesiecy#cena"},domProps:{value:e.license.price},on:{input:function(t){t.target.composing||e.$set(e.license,"price",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"licPowers"}},[e._v("Możliwości")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.license.powers,expression:"license.powers"}],attrs:{id:"licPowers",placeholder:"power|power|power"},domProps:{value:e.license.powers},on:{input:function(t){t.target.composing||e.$set(e.license,"powers",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"licRole"}},[e._v("Możliwe role")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.license.possibleRole,expression:"license.possibleRole"}],attrs:{id:"licRole",placeholder:"idRoli|idRoli|idRoli"},domProps:{value:e.license.possibleRole},on:{input:function(t){t.target.composing||e.$set(e.license,"possibleRole",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"licDomain"}},[e._v("Możliwe domeny")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.license.possibleDomain,expression:"license.possibleDomain"}],attrs:{id:"licDomain",placeholder:"domain|domain|domain"},domProps:{value:e.license.possibleDomain},on:{input:function(t){t.target.composing||e.$set(e.license,"possibleDomain",t.target.value)}}}),e._v(" "),e.isEdit?i("button",{attrs:{disabled:!e.isValidForm},on:{click:e.saveRole}},[e._v("Zapisz")]):i("button",{attrs:{disabled:!e.isValidForm},on:{click:e.addRole}},[e._v("Dodaj")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-header"},[t("h3",[this._v("Dodawanie nowej licencji")])])}]};var H=i("VU/8")(I,O,!1,function(e){i("xjUb")},"data-v-148ca635",null).exports,W={name:"UserLicenseAdd",props:["id"],data:function(){return{license:{user_id:"",license_id:"",date_end:""},isEdit:"add"!==this.id}},methods:{formValid:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var t=new window.Validator({"id użytkownika":this.license.user_id,"id licencji":this.license.license_id,"data końca":this.license.date_end},e);t.get("id użytkownika").length(1,50),t.get("id licencji").length(1,50),t.get("data końca").length(5,50)}catch(e){return!1}return!0},addLicense:function(){var e=this;this.formValid()&&axios.post("/userLicense",this.license).then(function(t){e.$router.push("/license")})},saveLicense:function(){var e=this;this.formValid()&&axios.put("/userLicense/"+this.id,this.license).then(function(t){e.$router.push("/license")})}},computed:{isValidForm:function(){return this.formValid(!1)}},mounted:function(){var e=this;this.isEdit&&axios.get("/userLicense/"+this.id).then(function(t){e.license=t.data})}},Z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",[i("div",{staticClass:"row"},[i("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[e._m(0),e._v(" "),i("form",[i("label",{attrs:{for:"licUser"}},[e._v("Id użytkownika")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.license.user_id,expression:"license.user_id"}],attrs:{type:"number",id:"licUser",autofocus:""},domProps:{value:e.license.user_id},on:{input:function(t){t.target.composing||e.$set(e.license,"user_id",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"lic"}},[e._v("Id licencji")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.license.license_id,expression:"license.license_id"}],attrs:{type:"number",id:"lic"},domProps:{value:e.license.license_id},on:{input:function(t){t.target.composing||e.$set(e.license,"license_id",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"licEnd"}},[e._v("Data końca")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.license.date_end,expression:"license.date_end"}],attrs:{type:"date",id:"licEnd"},domProps:{value:e.license.date_end},on:{input:function(t){t.target.composing||e.$set(e.license,"date_end",t.target.value)}}}),e._v(" "),e.isEdit?i("button",{attrs:{disabled:!e.isValidForm},on:{click:e.saveLicense}},[e._v("Zapisz")]):i("button",{attrs:{disabled:!e.isValidForm},on:{click:e.addLicense}},[e._v("Dodaj")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-header"},[t("h3",[this._v("Dodawanie nowej licencji")])])}]};var B=i("VU/8")(W,Z,!1,function(e){i("M+l8")},"data-v-7a6a16fb",null).exports,G={name:"RolePanel",data:function(){return{roles:[]}},methods:{getRoles:function(){var e=this;axios.get("/role").then(function(t){e.roles=t.data})},editRole:function(e){this.$router.push("/role/"+e)},deleteRole:function(e){var t=this;axios.delete("/role/"+e).then(function(e){t.$emit("refresh"),t.getRoles()})}},mounted:function(){this.getRoles()}},X={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Role na stronie")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$router.push("/role/add")}}},[e._v("Dodaj")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.roles,function(t){return i("tr",[i("td",[e._v(e._s(t.id))]),e._v(" "),i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",{staticClass:"action"},[i("div",{on:{click:function(i){e.editRole(t.id)}}},[i("i",{staticClass:"btn-i fas fa-edit"})]),e._v(" "),i("div",{on:{click:function(i){e.deleteRole(t.id)}}},[i("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("ID")]),this._v(" "),t("th",[this._v("Nazwa")]),this._v(" "),t("th",[this._v("Akcje")])])])}]};var J={name:"PermissionPanel",data:function(){return{permission:[]}},methods:{getPermission:function(){var e=this;axios.get("/permission").then(function(t){e.permission=t.data})},editPermission:function(e){this.$router.push("/permission/"+e)},deletePermission:function(e){var t=this;axios.delete("/permission/"+e).then(function(e){t.getPermission()})}},mounted:function(){this.getPermission()}},Y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"panel"},[i("div",{staticClass:"panel-header"},[i("h3",[e._v("Dostępne uprawnienia")]),e._v(" "),i("button",{staticClass:"panelActionTop",on:{click:function(t){e.$router.push("/permission/add")}}},[e._v("Dodaj")])]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{"data-sortable":""}},[e._m(0),e._v(" "),i("tbody",e._l(e.permission,function(t){return i("tr",[i("td",[e._v(e._s(t.id))]),e._v(" "),i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",{staticClass:"action"},[i("div",{on:{click:function(i){e.editPermission(t.id)}}},[i("i",{staticClass:"btn-i fas fa-edit"})]),e._v(" "),i("div",{on:{click:function(i){e.deletePermission(t.id)}}},[i("i",{staticClass:"btn-i fas fa-trash"})])])])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("ID")]),this._v(" "),t("th",[this._v("Nazwa")]),this._v(" "),t("th",[this._v("Akcje")])])])}]};var Q={name:"Permission",components:{"role-panel":i("VU/8")(G,X,!1,function(e){i("3H1C")},"data-v-7efb4e7a",null).exports,"permission-panel":i("VU/8")(J,Y,!1,function(e){i("gX91")},"data-v-06aad039",null).exports}},K={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("div",{staticClass:"row"},[t("role-panel",{staticClass:"panel col wow fadeInUp"}),this._v(" "),t("permission-panel",{staticClass:"panel col-2 wow fadeInUp"})],1)])},staticRenderFns:[]};var ee=i("VU/8")(Q,K,!1,function(e){i("WpfO")},"data-v-12945798",null).exports,te={name:"PermissionAdd",props:["id"],data:function(){return{permissionName:"",isEdit:"add"!==this.id,rolePermission:[]}},methods:{validForm:function(){try{new window.Validator({"nazwa uprawnienia":this.permissionName}).get("nazwa uprawnienia").length(3,50)}catch(e){return!1}return!0},addPermission:function(){var e=this;this.validForm()&&axios.post("/permission",{name:this.permissionName,permission:this.rolePermission}).then(function(t){e.$router.push("permission")})},savePermission:function(){var e=this;this.validForm()&&axios.put("/permission/"+this.id,{name:this.permissionName,permission:this.rolePermission}).then(function(t){e.$router.push("permission")})},isRolePerm:function(e,t){for(var i=0;i<t.length;i++)if(t[i].role_id===e)return!0;return!1}},mounted:function(){var e=this;axios.get("/role").then(function(t){var i=t.data;if(e.rolePermission=[],!e.isEdit)for(var n=0;n<t.data.length;n++)e.rolePermission.push({id:t.data[n].id,name:t.data[n].name,permission:!1});e.isEdit&&axios.get("/permission/"+e.id).then(function(t){e.permissionName=t.data.permission.name;for(var n=0;n<i.length;n++)e.rolePermission.push({id:i[n].id,name:i[n].name,permission:e.isRolePerm(i[n].id,t.data.rolePermission)})})})}},ie={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",[i("div",{staticClass:"row"},[i("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[e._m(0),e._v(" "),i("form",[i("label",{attrs:{for:"permissionName"}},[e._v("Nazwa uprawnienia")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.permissionName,expression:"permissionName"}],attrs:{type:"text",id:"permissionName",autofocus:""},domProps:{value:e.permissionName},on:{input:function(t){t.target.composing||(e.permissionName=t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"rolePermission"}},[e._v("Kto ma posiadać to uprawnienie?")]),e._v(" "),i("table",{staticClass:"sortable-theme-light",attrs:{id:"rolePermission","data-sortable":""}},[e._m(1),e._v(" "),i("tbody",e._l(e.rolePermission,function(t){return i("tr",[i("td",[e._v(e._s(t.name))]),e._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.permission,expression:"role.permission"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.permission)?e._i(t.permission,null)>-1:t.permission},on:{change:function(i){var n=t.permission,s=i.target,a=!!s.checked;if(Array.isArray(n)){var o=e._i(n,null);s.checked?o<0&&(t.permission=n.concat([null])):o>-1&&(t.permission=n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"permission",a)}}})])])}))]),e._v(" "),e.isEdit?i("button",{attrs:{disabled:e.permissionName.length<3},on:{click:e.savePermission}},[e._v("Zapisz")]):i("button",{attrs:{disabled:e.permissionName.length<3},on:{click:e.addPermission}},[e._v("Dodaj")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-header"},[t("h3",[this._v("Dodawanie nowego uprawnienia")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Nazwa")]),this._v(" "),t("th",[this._v("Zezwolić?")])])])}]};var ne=i("VU/8")(te,ie,!1,function(e){i("w1SE")},"data-v-03ed690d",null).exports,se={name:"RoleAdd",props:["id"],data:function(){return{roleName:"",roleFormElements:[],fieldForm:{name:"",type:"",list:"",required:!0},fieldAdd:!1,isEdit:"add"!==this.id}},methods:{endFormField:function(){try{var e=new window.Validator({"nazwa pola":this.fieldForm.name,"typ pola":this.fieldForm.type});if(e.get("nazwa pola").length(3,50),e.get("typ pola").length(3,50),"list"===this.fieldForm.type&&this.fieldForm.list.length<=3)throw notify.createNotifier("Wpisz liste atrybutów do pola; lista","danger",4e3),"validate failed"}catch(e){return!1}this.roleFormElements.push($.extend({},this.fieldForm)),this.fieldAdd=!1},cancelFormField:function(){this.fieldAdd=!1},addFormField:function(){this.fieldForm={id:this.roleFormElements.length+1,name:"",type:"",list:"",required:!0},this.fieldAdd=!0},removeFormField:function(e){this.roleFormElements=this.roleFormElements.filter(function(t,i){return t.id!==e})},validForm:function(){try{new window.Validator({"nazwa roli":this.roleName}).get("nazwa roli").length(3,50)}catch(e){return!1}return!0},addRole:function(){var e=this;this.validForm()&&axios.post("/role",{name:this.roleName,fields:this.roleFormElements}).then(function(t){e.$router.push("/permission")})},saveRole:function(){var e=this;this.validForm()&&axios.put("/role/"+this.id,{name:this.roleName,fields:this.roleFormElements}).then(function(t){e.$router.push("/permission")})}},mounted:function(){var e=this;this.isEdit&&axios.get("/role/"+this.id).then(function(t){e.roleName=t.data.name,t.data.form_field&&(e.roleFormElements=t.data.form_field,e.roleFormElements.map(function(e){e.name=e.label,e.type=e.field_type,e.list=e.list_field}))}),SortableJs.create($("#roleFormElement")[0])}},ae={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",[i("div",{staticClass:"row"},[i("div",{staticClass:"panel col wow fadeInUp",staticStyle:{"max-width":"500px",margin:"auto"}},[e._m(0),e._v(" "),i("form",[i("label",{attrs:{for:"roleName"}},[e._v("Nazwa roli")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.roleName,expression:"roleName"}],attrs:{type:"text",id:"roleName",autofocus:""},domProps:{value:e.roleName},on:{input:function(t){t.target.composing||(e.roleName=t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"roleFormElement"}},[e._v("Rozszerzone pola dla roli")]),e._v(" "),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",[i("p",{directives:[{name:"show",rawName:"v-show",value:e.roleFormElements.length<=0,expression:"roleFormElements.length <= 0"}],staticStyle:{"text-align":"center"}},[i("small",[e._v("Brak elementów. Możesz dodać, aby każdy użytkownik w tej grupie dysponował tymi\n                                polami.\n                            ")])]),e._v(" "),i("ul",{attrs:{id:"roleFormElement"}},e._l(e.roleFormElements,function(t){return i("li",[e._v(e._s(t.name)),i("i",{staticClass:"js-remove",on:{click:function(i){e.removeFormField(t.id)}}},[e._v("✖")])])})),e._v(" "),i("form",{directives:[{name:"show",rawName:"v-show",value:e.fieldAdd,expression:"fieldAdd"}],staticClass:"roleFormAddFieldForm"},[i("label",{attrs:{for:"FieldFormName"}},[e._v("Nazwa pola")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldForm.name,expression:"fieldForm.name"}],attrs:{type:"text",id:"FieldFormName",autofocus:""},domProps:{value:e.fieldForm.name},on:{input:function(t){t.target.composing||e.$set(e.fieldForm,"name",t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"FieldFormType"}},[e._v("Typ pola")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.fieldForm.type,expression:"fieldForm.type"}],attrs:{id:"FieldFormType"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.fieldForm,"type",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"number"}},[e._v("Numer")]),e._v(" "),i("option",{attrs:{value:"list"}},[e._v("Lista")]),e._v(" "),i("option",{attrs:{value:"text"}},[e._v("Tekst")]),e._v(" "),i("option",{attrs:{value:"file"}},[e._v("Plik")])]),e._v(" "),i("label",{directives:[{name:"show",rawName:"v-show",value:"list"===e.fieldForm.type,expression:"fieldForm.type === 'list'"}],attrs:{for:"FieldFormList"}},[e._v("Lista możliwości")]),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:"list"===e.fieldForm.type,expression:"fieldForm.type === 'list'"},{name:"model",rawName:"v-model",value:e.fieldForm.list,expression:"fieldForm.list"}],attrs:{placeholder:"nazwa#wartosc|nazwa#wartosc",type:"text",id:"FieldFormList"},domProps:{value:e.fieldForm.list},on:{input:function(t){t.target.composing||e.$set(e.fieldForm,"list",t.target.value)}}}),e._v(" "),i("label",{staticStyle:{"margin-top":"15px"},attrs:{for:"FieldFormRequired"}},[e._v("Pole jest wymagane?")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldForm.required,expression:"fieldForm.required"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"checkbox",id:"FieldFormRequired"},domProps:{checked:Array.isArray(e.fieldForm.required)?e._i(e.fieldForm.required,null)>-1:e.fieldForm.required},on:{change:function(t){var i=e.fieldForm.required,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=e._i(i,null);n.checked?a<0&&(e.fieldForm.required=i.concat([null])):a>-1&&(e.fieldForm.required=i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.fieldForm,"required",s)}}}),e._v(" "),i("div",{staticStyle:{display:"flex","margin-top":"10px"}},[i("button",{staticStyle:{margin:"5px auto",display:"block","line-height":"12px"},on:{click:function(t){t.preventDefault(),e.cancelFormField(t)}}},[e._v("Anuluj\n                                ")]),e._v(" "),i("button",{staticStyle:{margin:"5px auto",display:"block","line-height":"12px"},on:{click:function(t){t.preventDefault(),e.endFormField(t)}}},[e._v("Dodaj\n                                ")])])]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!e.fieldAdd,expression:"!fieldAdd"}],staticStyle:{margin:"5px auto",display:"block","line-height":"12px"},on:{click:function(t){t.preventDefault(),e.addFormField(t)}}},[e._v("Dodaj pole\n                        ")])])]),e._v(" "),e.isEdit?i("button",{attrs:{disabled:e.roleName.length<3},on:{click:e.saveRole}},[e._v("Zapisz")]):i("button",{attrs:{disabled:e.roleName.length<3},on:{click:e.addRole}},[e._v("Dodaj")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-header"},[t("h3",[this._v("Dodawanie nowej roli")])])}]};var oe=i("VU/8")(se,ae,!1,function(e){i("oWlj")},"data-v-3b3cd164",null).exports;n.a.use(s.a);var re=new s.a({routes:[{path:"/",component:d,children:[{path:"",component:b,children:[{path:"",component:_},{path:"database",component:z},{path:"permission",component:ee},{path:"permission/:id",component:ne,props:!0},{path:"role/:id",component:oe,props:!0},{path:"user",component:C},{path:"user/:id",component:E,props:!0},{path:"license",component:q},{path:"license/:id",component:H,props:!0},{path:"userLicense/:id",component:B,props:!0}]},{path:"/login",component:r,meta:{noRequireAuthorization:!0}}]}]});re.beforeEach(function(e,t,i){e.matched.some(function(e){return e.meta.noRequireAuthorization})?i():"/login"!==e.path?AuthMiddleware.checkIsUserLogged().then(function(t){t?(i(),setTimeout(function(){window.jsFrameworkAfterChangeRoute&&window.jsFrameworkAfterChangeRoute()},300)):i({path:"/login",query:{redirect:e.fullPath?e.fullPath:null}})}).catch(function(t){i({path:"/login",query:{redirect:e.fullPath?e.fullPath:null}})}):i()});var le=re,ce=i("Zrlr"),de=i.n(ce),ue=i("wxAW"),he=i.n(ue),ve=(i("84rP"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Przykładowy opis, który możesz zmienić, wpisując własny tekst jako pierwszy argument.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;de()(this,e),this.desc=t,this.type=i,this.duration=n}return he()(e,[{key:"createContainer",value:function(){var e=$("#app");e.children().last().hasClass("notify-container")||e.append('<div class="notify-container"></div>')}},{key:"hide",value:function(e){e.addClass("notify-hide"),setTimeout(function(){e.remove(),e=null},300)}},{key:"createNotifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.desc,t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.type,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.duration;this.createContainer(),$(".notify-container").append('<small class="notify-element '+i+'-notify">'+e+"</small>");var s=$(".notify-container").children().last();s.show("slide",{direction:"right",easing:"linear"},300),s.on("click",function(){t.hide(s)}),setTimeout(function(){t.hide(s)},n)}}]),e}()),me=i("//Fk"),fe=i.n(me),pe=i("woOf"),_e=i.n(pe),ge=function(){function e(){de()(this,e)}return he()(e,[{key:"set",value:function(e){_e()(this,e)}}]),e}(),we=function(){function e(){de()(this,e)}return he()(e,[{key:"login",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.user&&(delete this.user,this.user=null),this.user=new ge,this.user.set(e),this.actualStorage=t?localStorage:sessionStorage,this.setCache()}},{key:"logout",value:function(){this.user&&(delete this.user,this.user=null),this.user=new ge,window.axios.defaults.headers.common.Authorization=null,localStorage.clear(),sessionStorage.clear()}},{key:"setCache",value:function(){window.axios.defaults.headers.common.Authorization="Bearer "+this.user.login_token,this.actualStorage.login_token=this.user.login_token}},{key:"checkIsUserLogged",value:function(){var e=this;return new fe.a(function(t,i){e.actualStorage=sessionStorage.login_token?sessionStorage:localStorage,e.actualStorage.login_token?axios.post("/auth/checkAuth",{loginToken:e.actualStorage.login_token?e.actualStorage.login_token:""}).then(function(i){i.data?(e.login(i.data),t(i.data)):(e.logout(),t(null))}).catch(function(e){i(e)}):t(null)})}}]),e}(),be=function(){function e(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];de()(this,e),this.elements=t,this.currentName=null,this.current=null,this.showError=i}return he()(e,[{key:"get",value:function(e){return this.currentName=e,this.current=this.elements[e],this}},{key:"returnError",value:function(e){throw this.showError&&notify.createNotifier(e,"danger",4e3),"validate failed"}},{key:"isNotNull",value:function(){var e=!!this.current;return e&&0!==e||this.returnError("Element "+this.currentName+" nie może być pusty"),this}},{key:"isString",value:function(){return this.isNotNull(),"string"==typeof this.current||this.returnError("Element "+this.currentName+" musi być stringiem"),this}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.isString();var i=this.current.length>=e;return t&&i&&(i=this.current.length<=t),i||this.returnError("Element "+this.currentName+" musi mieć długość w przedziale ("+e+"-"+(t||"nieskonczoność")+")"),this}}]),e}(),ye=i("Ufq/"),ke=i.n(ye),Ce=i("PCC1"),xe=i.n(Ce),Fe=i("Lokx"),$e=i.n(Fe);window.devMode=!0,i("A/C3"),window.SortableJs=$e.a,window.wow=new xe.a,window.Sortable=ke.a,window.axios=i("mtWM"),window.bowser=i("O/+C"),window.AuthMiddleware=new we,window.Validator=be,i("+oxg"),i("5IHX"),window.axios.defaults.baseURL=window.devMode?"http://cmcapi.pl":"https://api.centrumklubu.pl",window.axios.defaults.headers.post["Content-Type"]="application/json",window.axios.interceptors.response.use(void 0,function(e){e.response.data&&e.response.data.error&&notify.createNotifier(e.response.data.error,"danger",5e3)}),n.a.mixin({methods:{go:function(e){this.$router.push(e)},showModal:function(e){$(e).showModal()},hideModal:function(e){$(e).hideModal()}}}),window.notify=new ve,n.a.config.productionTip=!0,n.a.component("loader",i("wd27").default),new n.a({el:"#app",router:le})},PCC1:function(e,t,i){var n,s,a,o;o=function(e,t){"use strict";var i,n;function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function o(e,t){return t.indexOf(e)>=0}function r(e,t,i){null!=e.addEventListener?e.addEventListener(t,i,!1):null!=e.attachEvent?e.attachEvent("on"+t,i):e[t]=i}function l(e,t,i){null!=e.removeEventListener?e.removeEventListener(t,i,!1):null!=e.detachEvent?e.detachEvent("on"+t,i):delete e[t]}var c=window.WeakMap||window.MozWeakMap||function(){function e(){s(this,e),this.keys=[],this.values=[]}return a(e,[{key:"get",value:function(e){for(var t=0;t<this.keys.length;t++){if(this.keys[t]===e)return this.values[t]}}},{key:"set",value:function(e,t){for(var i=0;i<this.keys.length;i++){if(this.keys[i]===e)return this.values[i]=t,this}return this.keys.push(e),this.values.push(t),this}}]),e}(),d=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(n=i=function(){function e(){s(this,e),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}return a(e,[{key:"observe",value:function(){}}]),e}(),i.notSupported=!0,n),u=window.getComputedStyle||function(e){var t=/(\-([a-z]){1})/g;return{getPropertyValue:function(i){"float"===i&&(i="styleFloat"),t.test(i)&&i.replace(t,function(e,t){return t.toUpperCase()});var n=e.currentStyle;return(null!=n?n[i]:void 0)||null}}},h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,e),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate="requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()},this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=function(e,t){for(var i in t)if(null==e[i]){var n=t[i];e[i]=n}return e}(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new c,this.wowEvent=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=void 0;return null!=document.createEvent?(s=document.createEvent("CustomEvent")).initCustomEvent(e,t,i,n):null!=document.createEventObject?(s=document.createEventObject()).eventType=e:s.eventName=e,s}(this.config.boxClass)}return a(e,[{key:"init",value:function(){this.element=window.document.documentElement,o(document.readyState,["interactive","complete"])?this.start():r(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var e=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var t=0;t<this.boxes.length;t++){var i=this.boxes[t];this.applyStyle(i,!0)}(this.disabled()||(r(this.config.scrollContainer||window,"scroll",this.scrollHandler),r(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)&&new d(function(t){for(var i=0;i<t.length;i++)for(var n=t[i],s=0;s<n.addedNodes.length;s++){var a=n.addedNodes[s];e.doSync(a)}}).observe(document.body,{childList:!0,subtree:!0})}},{key:"stop",value:function(){this.stopped=!0,l(this.config.scrollContainer||window,"scroll",this.scrollHandler),l(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){d.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(e){if(void 0!==e&&null!==e||(e=this.element),1===e.nodeType)for(var t=(e=e.parentNode||e).querySelectorAll("."+this.config.boxClass),i=0;i<t.length;i++){var n=t[i];o(n,this.all)||(this.boxes.push(n),this.all.push(n),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(n,!0),this.scrolled=!0)}}},{key:"show",value:function(e){var t,i;return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(e),t=e,i=this.wowEvent,null!=t.dispatchEvent?t.dispatchEvent(i):i in(null!=t)?t[i]():"on"+i in(null!=t)&&t["on"+i](),this.config.resetAnimation&&(r(e,"animationend",this.resetAnimation),r(e,"oanimationend",this.resetAnimation),r(e,"webkitAnimationEnd",this.resetAnimation),r(e,"MSAnimationEnd",this.resetAnimation)),e}},{key:"applyStyle",value:function(e,t){var i=this,n=e.getAttribute("data-wow-duration"),s=e.getAttribute("data-wow-delay"),a=e.getAttribute("data-wow-iteration");return this.animate(function(){return i.customStyle(e,t,n,s,a)})}},{key:"resetStyle",value:function(){for(var e=0;e<this.boxes.length;e++){this.boxes[e].style.visibility="visible"}}},{key:"resetAnimation",value:function(e){if(e.type.toLowerCase().indexOf("animationend")>=0){var t=e.target||e.srcElement;t.className=t.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function(e,t,i,n,s){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",i&&this.vendorSet(e.style,{animationDuration:i}),n&&this.vendorSet(e.style,{animationDelay:n}),s&&this.vendorSet(e.style,{animationIterationCount:s}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e}},{key:"vendorSet",value:function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];e[""+i]=n;for(var s=0;s<this.vendors.length;s++){e[""+this.vendors[s]+i.charAt(0).toUpperCase()+i.substr(1)]=n}}}},{key:"vendorCSS",value:function(e,t){for(var i=u(e),n=i.getPropertyCSSValue(t),s=0;s<this.vendors.length;s++){var a=this.vendors[s];n=n||i.getPropertyCSSValue("-"+a+"-"+t)}return n}},{key:"animationName",value:function(e){var t=void 0;try{t=this.vendorCSS(e,"animation-name").cssText}catch(i){t=u(e).getPropertyValue("animation-name")}return"none"===t?"":t}},{key:"cacheAnimationName",value:function(e){return this.animationNameCache.set(e,this.animationName(e))}},{key:"cachedAnimationName",value:function(e){return this.animationNameCache.get(e)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var e=[],t=0;t<this.boxes.length;t++){var i=this.boxes[t];if(i){if(this.isVisible(i)){this.show(i);continue}e.push(i)}}this.boxes=e,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(e){for(;void 0===e.offsetTop;)e=e.parentNode;for(var t=e.offsetTop;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}},{key:"isVisible",value:function(e){var t=e.getAttribute("data-wow-offset")||this.config.offset,i=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,n=i+Math.min(this.element.clientHeight,"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight)-t,s=this.offsetTop(e),a=s+e.clientHeight;return s<=n&&a>=i}},{key:"disabled",value:function(){return!this.config.mobile&&(e=navigator.userAgent,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e));var e}}]),e}();t.default=h,e.exports=t.default},s=[e,t],void 0===(a="function"==typeof(n=o)?n.apply(t,s):n)||(e.exports=a)},R8ca:function(e,t){},"Ufq/":function(e,t,i){var n;(function(){var s,a,o,r,l,c;s="table[data-sortable]",r=/^-?[£$¤]?[\d,.]+%?$/,c=/^\s+|\s+$/g,o=["click"],"ontouchstart"in document.documentElement&&o.push("touchstart"),a=function(e,t,i){return null!=e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},(l={init:function(e){var t,i,n,a,o;for(null==e&&(e={}),null==e.selector&&(e.selector=s),o=[],n=0,a=(i=document.querySelectorAll(e.selector)).length;a>n;n++)t=i[n],o.push(l.initTable(t));return o},initTable:function(e){var t,i,n,s,a,o;if(1===(null!=(o=e.tHead)?o.rows.length:void 0)&&"true"!==e.getAttribute("data-sortable-initialized")){for(e.setAttribute("data-sortable-initialized","true"),t=s=0,a=(n=e.querySelectorAll("th")).length;a>s;t=++s)"false"!==(i=n[t]).getAttribute("data-sortable")&&l.setupClickableTH(e,i,t);return e}},setupClickableTH:function(e,t,i){var n,s,r,c,d,u;for(r=l.getColumnType(e,i),s=function(n){var s,a,o,c,d,u,h,v,m,f,p,_,g,w,b,y,k,C,x,F,$,E,N,A;if(!0===n.handled)return!1;for(n.handled=!0,h="true"===this.getAttribute("data-sorted"),v=this.getAttribute("data-sorted-direction"),o=h?"ascending"===v?"descending":"ascending":r.defaultSortDirection,g=0,k=(f=this.parentNode.querySelectorAll("th")).length;k>g;g++)(t=f[g]).setAttribute("data-sorted","false"),t.removeAttribute("data-sorted-direction");if(this.setAttribute("data-sorted","true"),this.setAttribute("data-sorted-direction",o),m=e.tBodies[0],u=[],h){for(y=0,F=(A=m.rows).length;F>y;y++)a=A[y],u.push(a);for(u.reverse(),E=0,$=u.length;$>E;E++)d=u[E],m.appendChild(d)}else{for(_=null!=r.compare?r.compare:function(e,t){return t-e},s=function(e,t){return e[0]===t[0]?e[2]-t[2]:r.reverse?_(t[0],e[0]):_(e[0],t[0])},c=w=0,C=(N=m.rows).length;C>w;c=++w)d=N[c],p=l.getNodeValue(d.cells[i]),null!=r.comparator&&(p=r.comparator(p)),u.push([p,d,c]);for(u.sort(s),b=0,x=u.length;x>b;b++)d=u[b],m.appendChild(d[1])}return"function"==typeof window.CustomEvent&&"function"==typeof e.dispatchEvent?e.dispatchEvent(new CustomEvent("Sortable.sorted",{bubbles:!0})):void 0},u=[],c=0,d=o.length;d>c;c++)n=o[c],u.push(a(t,n,s));return u},getColumnType:function(e,t){var i,n,s,a,o,r,c,d,u,h,v;if(null!=(n=null!=(u=e.querySelectorAll("th")[t])?u.getAttribute("data-sortable-type"):void 0))return l.typesObject[n];for(o=0,c=(h=e.tBodies[0].rows).length;c>o;o++)for(i=h[o],s=l.getNodeValue(i.cells[t]),r=0,d=(v=l.types).length;d>r;r++)if((a=v[r]).match(s))return a;return l.typesObject.alpha},getNodeValue:function(e){var t;return e?null!==(t=e.getAttribute("data-value"))?t:void 0!==e.innerText?e.innerText.replace(c,""):e.textContent.replace(c,""):""},setupTypes:function(e){var t,i,n,s;for(l.types=e,l.typesObject={},s=[],i=0,n=e.length;n>i;i++)t=e[i],s.push(l.typesObject[t.name]=t);return s}}).setupTypes([{name:"numeric",defaultSortDirection:"descending",match:function(e){return e.match(r)},comparator:function(e){return parseFloat(e.replace(/[^0-9.-]/g,""),10)||0}},{name:"date",defaultSortDirection:"ascending",reverse:!0,match:function(e){return!isNaN(Date.parse(e))},comparator:function(e){return Date.parse(e)||0}},{name:"alpha",defaultSortDirection:"ascending",match:function(){return!0},compare:function(e,t){return e.localeCompare(t)}}]),setTimeout(l.init,0),void 0===(n=function(){return l}.call(t,i,t,e))||(e.exports=n)}).call(this)},VTh3:function(e,t){},WpfO:function(e,t){},ZQX4:function(e,t){},cxtj:function(e,t){},ew5W:function(e,t){},gX91:function(e,t){},nlqR:function(e,t){},oWlj:function(e,t){},pJBt:function(e,t){},q5gN:function(e,t){},"u5c+":function(e,t){},w1SE:function(e,t){},wd27:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sk-circle"},[i("div",{staticClass:"sk-circle1 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle2 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle3 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle4 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle5 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle6 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle7 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle8 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle9 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle10 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle11 sk-child"}),e._v(" "),i("div",{staticClass:"sk-circle12 sk-child"})])}]};var s=i("VU/8")({name:"Loader"},n,!1,function(e){i("xNNU")},"data-v-669ece7a",null);t.default=s.exports},xNNU:function(e,t){},xjUb:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.db5a4a51621634b25338.js.map